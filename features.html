<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Data frame features
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Easy to use .NET library for data manipulation and scientific programming">
    <meta name="author" content="BlueMountain Capital">

    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/content/style.css" />
    <script type="text/javascript" src="file://C:\dev\FSharp.DataFrame\docs\tools\../output/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/BlueMountainCapital/Deedle">github page</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Charting/">F# Charting</a></li>
          <li><a href="http://bluemountaincapital.github.io/FSharpRProvider">R Type Provider</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Data/">F# Data</a></li>
        </ul>
        <h3 class="muted">Deedle</h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>Data frame features</h1>

<p>In this section, we look at various features of the F# data frame library (using both
<code>Series</code> and <code>Frame</code> types and modules). Feel free to jump to the section you are interested
in, but note that some sections refer back to values built in "Creating &amp; loading".</p>

<p>You can also get this page as an <a href="https://github.com/BlueMountainCapital/Deedle/blob/master/samples/features.fsx">F# script file</a>
from GitHub and run the samples interactively.</p>

<a name="creating"></a>

<h2>Creating frames &amp; loading data</h2>

<a name="creating-csv"></a>

<h3>Loading and saving CSV files</h3>

<p>The easiest way to get data into data frame is to use a CSV file. The <code>Frame.ReadCsv</code>
function exposes this functionality:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Assuming &#39;root&#39; is a directory containing the file</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">titanic</span> <span class="o">=</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">Titanic</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>)

<span class="c">// Read data and set the index column &amp; order rows</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">msft</span> <span class="o">=</span> 
  <span class="i">Frame</span><span class="o">.</span><span class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">msft</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>) 
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">indexRowsDate</span> <span class="s">&quot;</span><span class="s">Date</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">orderRows</span>

<span class="c">// Specify column separator</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">air</span> <span class="o">=</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">AirQuality</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>, <span class="i">separators</span><span class="o">=</span><span class="s">&quot;</span><span class="s">;</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table><p>The <code>ReadCsv</code> method has a number of optional arguments that you can use to control 
the loading. It supports both CSV files, TSV files and other formats. If the file name
ends with <code>tsv</code>, the Tab is used automatically, but you can set <code>separator</code> explicitly.
The following parameters can be used:</p>

<ul>
<li><code>path</code> - Specifies a file name or an web location of the resource.</li>
<li><code>inferTypes</code> - Specifies whether the method should attempt to infer types
of columns automatically (set this to <code>false</code> if you want to specify schema)</li>
<li><code>inferRows</code> - If <code>inferTypes=true</code>, this parameter specifies the number of
rows to use for type inference. The default value is 0, meaninig all rows.</li>
<li><code>schema</code> - A string that specifies CSV schema. See the documentation for 
information about the schema format.</li>
<li><code>separators</code> - A string that specifies one or more (single character) separators
that are used to separate columns in the CSV file. Use for example <code>";"</code> to
parse semicolon separated files.</li>
<li><code>culture</code> - Specifies the name of the culture that is used when parsing 
values in the CSV file (such as <code>"en-US"</code>). The default is invariant culture.</li>
</ul>

<p>The parameters are the same as those used by the <a href="http://fsharp.github.io/FSharp.Data/library/CsvProvider.html">CSV type provider in F# Data</a>,
so you can find additional documentation there.</p>

<p>Once you have a data frame, you can also save it to a CSV file using the 
<code>SaveCsv</code> method. For example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Save CSV with semicolon separator</span>
<span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="i">air</span><span class="o">.</span><span class="i">SaveCsv</span>(<span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="i">Path</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="i">GetTempFileName</span>(), <span class="i">separator</span><span class="o">=</span><span class="s">&#39;;&#39;</span>)
<span class="c">// Save as CSV and include row key as &quot;Date&quot; column</span>
<span onmouseout="hideTip(event, 'fs3', 10)" onmouseover="showTip(event, 'fs3', 10)" class="i">msft</span><span class="o">.</span><span class="i">SaveCsv</span>(<span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="i">Path</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 12)" onmouseover="showTip(event, 'fs6', 12)" class="i">GetTempFileName</span>(), <span class="i">keyNames</span><span class="o">=</span>[<span class="s">&quot;</span><span class="s">Date</span><span class="s">&quot;</span>], <span class="i">separator</span><span class="o">=</span><span class="s">&#39;\t&#39;</span>)</pre>
</td>
</tr>
</table><p>By default, the <code>SaveCsv</code> method does not include the key from the data frame. This can be
overriden by calling <code>SaveCsv</code> with the optional argument <code>includeRowKeys=true</code>, or with an
additional argument <code>keyNames</code> (demonstrated above) which sets the headers for the key columns(s)
in the CSV file. Usually, there is just a single row key, but there may be multiple when 
<a href="#indexing">hierarchical indexing</a> is used.</p>

<a name="creating-recd"></a>

<h3>Loading F# records or .NET objects</h3>

<p>If you have another .NET or F# components that returns data as a sequence of F# records,
C# anonymous types or other .NET objects, you can use <code>Frame.ofRecords</code> to turn them
into a data frame. Assume we have:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs7', 13)" onmouseover="showTip(event, 'fs7', 13)" class="i">Person</span> <span class="o">=</span> 
  { <span onmouseout="hideTip(event, 'fs8', 14)" onmouseover="showTip(event, 'fs8', 14)" class="i">Name</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs9', 15)" onmouseover="showTip(event, 'fs9', 15)" class="i">string</span>; <span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">Age</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">int</span>; <span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="i">Countries</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs9', 19)" onmouseover="showTip(event, 'fs9', 19)" class="i">string</span> <span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="i">list</span>; }

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="i">peopleRecds</span> <span class="o">=</span> 
  [ { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Joe</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">51</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">28</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">CZ</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">CZ</span><span class="s">&quot;</span> ] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Eve</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">2</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">FR</span><span class="s">&quot;</span> ] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Suzanne</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">15</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span> ] } ]</pre>
</td>
</tr>
</table><p>Now we can easily create a data frame that contains three columns 
(<code>Name</code>, <code>Age</code> and <code>Countries</code>) containing data of the same type as 
the properties of <code>Person</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Turn the list of records into data frame </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="i">peopleList</span> <span class="o">=</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ofRecords</span> <span onmouseout="hideTip(event, 'fs14', 23)" onmouseover="showTip(event, 'fs14', 23)" class="i">peopleRecds</span>
<span class="c">// Use the &#39;Name&#39; column as a key (of type string)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="i">people</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="i">peopleList</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">indexRowsString</span> <span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span></pre>
</td>
</tr>
</table><p>Note that this does not perform any conversion on the column data. Numerical series
can be accessed using the <code>?</code> operator. For other types, we need to explicitly call
<code>GetSeries</code> with the right type arguments:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs16', 26)" onmouseover="showTip(event, 'fs16', 26)" class="i">people</span><span class="o">?</span><span class="i">Age</span>
<span onmouseout="hideTip(event, 'fs16', 27)" onmouseover="showTip(event, 'fs16', 27)" class="i">people</span><span class="o">.</span><span class="i">GetSeries</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 28)" onmouseover="showTip(event, 'fs9', 28)" class="i">string</span> <span onmouseout="hideTip(event, 'fs13', 29)" onmouseover="showTip(event, 'fs13', 29)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table><a name="creating-wb"></a>

<h3>F# Data providers</h3>

<p>In general, you can use any data source that exposes data as series of tuples. This
means that we can easily load data using, for example, the World Bank type provider 
from <a href="https://github.com/fsharp/FSharp.Data">F# Data library</a>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Connect to the World Bank</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 30)" onmouseover="showTip(event, 'fs17', 30)" class="i">wb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="i">WorldBankData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="i">GetDataContext</span>()

<span class="c">/// Given a region, load GDP in current US$ and return data as </span>
<span class="c">/// a frame with two-level column key (region and country name)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 33)" onmouseover="showTip(event, 'fs20', 33)" class="i">loadRegion</span> (<span onmouseout="hideTip(event, 'fs21', 34)" onmouseover="showTip(event, 'fs21', 34)" class="i">region</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs18', 35)" onmouseover="showTip(event, 'fs18', 35)" class="i">WorldBankData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 36)" onmouseover="showTip(event, 'fs22', 36)" class="i">ServiceTypes</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 37)" onmouseover="showTip(event, 'fs23', 37)" class="i">Region</span>) <span class="o">=</span>
  [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs24', 38)" onmouseover="showTip(event, 'fs24', 38)" class="i">country</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs21', 39)" onmouseover="showTip(event, 'fs21', 39)" class="i">region</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 40)" onmouseover="showTip(event, 'fs25', 40)" class="i">Countries</span> <span class="k">-&gt;</span> 
      <span class="c">// Create two-level column key using tuple</span>
      (<span onmouseout="hideTip(event, 'fs21', 41)" onmouseover="showTip(event, 'fs21', 41)" class="i">region</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 42)" onmouseover="showTip(event, 'fs26', 42)" class="i">Name</span>, <span onmouseout="hideTip(event, 'fs24', 43)" onmouseover="showTip(event, 'fs24', 43)" class="i">country</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="i">Name</span>) <span class="o">=&gt;</span> 
        <span class="c">// Create series from tuples returned by WorldBank</span>
        <span class="i">Series</span><span class="o">.</span><span class="i">ofObservations</span> <span onmouseout="hideTip(event, 'fs24', 45)" onmouseover="showTip(event, 'fs24', 45)" class="i">country</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 46)" onmouseover="showTip(event, 'fs28', 46)" class="i">Indicators</span><span class="o">.</span><span class="i">``GDP (current US$)``</span> ]
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ofColumns</span></pre>
</td>
</tr>
</table><p>To make data manipulation more convenient, we read country information per region
and create data frame with a hierarchical index (for more information, see the
<a href="#indexing">advanced indexing section</a>). Now we can easily read data for OECD and
Euro area:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Load Euro and OECD regions</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 47)" onmouseover="showTip(event, 'fs29', 47)" class="i">eu</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 48)" onmouseover="showTip(event, 'fs20', 48)" class="i">loadRegion</span> <span onmouseout="hideTip(event, 'fs17', 49)" onmouseover="showTip(event, 'fs17', 49)" class="i">wb</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 50)" onmouseover="showTip(event, 'fs30', 50)" class="i">Regions</span><span class="o">.</span><span class="i">``Euro area``</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 51)" onmouseover="showTip(event, 'fs31', 51)" class="i">oecd</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 52)" onmouseover="showTip(event, 'fs20', 52)" class="i">loadRegion</span> <span onmouseout="hideTip(event, 'fs17', 53)" onmouseover="showTip(event, 'fs17', 53)" class="i">wb</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 54)" onmouseover="showTip(event, 'fs30', 54)" class="i">Regions</span><span class="o">.</span><span class="i">``OECD members``</span>

<span class="c">// Join and convert to in billions of USD</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="i">world</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs29', 56)" onmouseover="showTip(event, 'fs29', 56)" class="i">eu</span><span class="o">.</span><span class="i">Join</span>(<span onmouseout="hideTip(event, 'fs31', 57)" onmouseover="showTip(event, 'fs31', 57)" class="i">oecd</span>) <span class="o">/</span> <span class="n">1e9</span>

<span class="fsi">val world : Frame&lt;int,(string * string)&gt; =</span>
<span class="fsi">        Euro area                OECD members  </span>
<span class="fsi">        Austria  Estonia   (...) Canada  Chile   (...)</span>
<span class="fsi">1960 -&gt; 6.592    &lt;missing&gt;       41.093  4.2117</span>
<span class="fsi">1961 -&gt; 7.311    &lt;missing&gt;       40.767  4.7053</span>
<span class="fsi">:       ...</span>
<span class="fsi">2011 -&gt; 417.6    22.15           1777.7  250.99</span>
<span class="fsi">2012 -&gt; 399.6    21.85           1821.4  268.18</span></pre>
</td>
</tr>
</table><p>The loaded data look something like the sample above. As you can see, the columns
are grouped by the region and some data are not available.</p>

<a name="dataframe"></a>

<h2>Manipulating data frames</h2>

<p>The series type <code>Series&lt;K, V&gt;</code> represents a series with keys of type <code>K</code> and values
of type <code>V</code>. This means that when working with series, the type of values is known 
statically. When working with data frames, this is not the case - a frame is represented
as <code>Frame&lt;R, C&gt;</code> where <code>R</code> and <code>C</code> are the types of row and column indices, respectively
(typically, <code>R</code> will be an <code>int</code> or <code>DateTime</code> and <code>C</code> will be <code>string</code> representing 
different column/series names.</p>

<p>A frame can contain heterogeneous data. One column may contain integers, another may
contain floating point values and yet another can contain strings, dates or other objects
like lists of strings. This information is not captured statically - and so when working
with frames, you may need to specify the type explicitly, for example, when reading
a series from a frame.</p>

<h3>Getting data from a frame</h3>

<p>We'll use the data frame <code>people</code> which contains three columns - <code>Name</code> of type <code>string</code>,
<code>Age</code> of type <code>int</code> and <code>Countries</code> of type <code>string list</code> (we created it from F# records
in <a href="#creating-recd">the previous section</a>):</p>

<pre><code>           Name    Age Countries          
Joe     -&gt; Joe     51  [UK; US; UK]       
Tomas   -&gt; Tomas   28  [CZ; UK; US; ... ] 
Eve     -&gt; Eve     2   [FR]               
Suzanne -&gt; Suzanne 15  [US]   
</code></pre>

<p>To get a column (series) from a frame <code>df</code>, you can use operations that are exposed directly
by the data frame, or you can use <code>df.Columns</code> which returns all columns of the frame as a
series of series.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get the &#39;Age&#39; column as a series of &#39;float&#39; values</span>
<span class="c">// (the &#39;?&#39; operator converts values automatically)</span>
<span onmouseout="hideTip(event, 'fs16', 58)" onmouseover="showTip(event, 'fs16', 58)" class="i">people</span><span class="o">?</span><span class="i">Age</span>
<span class="c">// Get the &#39;Name&#39; column as a series of &#39;string&#39; values</span>
<span onmouseout="hideTip(event, 'fs16', 59)" onmouseover="showTip(event, 'fs16', 59)" class="i">people</span><span class="o">.</span><span class="i">GetSeries</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 60)" onmouseover="showTip(event, 'fs9', 60)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)
<span class="c">// Get all frame columns as a series of series</span>
<span onmouseout="hideTip(event, 'fs16', 61)" onmouseover="showTip(event, 'fs16', 61)" class="i">people</span><span class="o">.</span><span class="i">Columns</span></pre>
</td>
</tr>
</table><p>A series <code>s</code> of type <code>Series&lt;string, V&gt;</code> supports the question mark operator <code>s?Foo</code> to get
a value of type <code>V</code> associated with the key <code>Foo</code>. For other key types, you can sue the <code>Get</code> 
method. Note that, unlike with frames, there is no implicit conversion:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get Series&lt;string, float&gt; </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 62)" onmouseover="showTip(event, 'fs33', 62)" class="i">numAges</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 63)" onmouseover="showTip(event, 'fs16', 63)" class="i">people</span><span class="o">?</span><span class="i">Age</span>

<span class="c">// Get value using question mark</span>
<span onmouseout="hideTip(event, 'fs33', 64)" onmouseover="showTip(event, 'fs33', 64)" class="i">numAges</span><span class="o">?</span><span class="i">Tomas</span>
<span class="c">// Get value using &#39;Get&#39; method</span>
<span onmouseout="hideTip(event, 'fs33', 65)" onmouseover="showTip(event, 'fs33', 65)" class="i">numAges</span><span class="o">.</span><span class="i">Get</span>(<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>)
<span class="c">// Returns missing when key is not found</span>
<span onmouseout="hideTip(event, 'fs33', 66)" onmouseover="showTip(event, 'fs33', 66)" class="i">numAges</span><span class="o">.</span><span class="i">TryGet</span>(<span class="s">&quot;</span><span class="s">Fridrich</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table><p>The question mark operator and <code>Get</code> method can be used on the <code>Columns</code> property of data frame.
The return type of <code>df?Columns</code> is <code>ColumnSeries&lt;string, string&gt;</code> which is just a thin wrapper
over <code>Series&lt;C, ObjectSeries&lt;R&gt;&gt;</code>. This means that you get back a series indexed by column names
where the values are <code>ObjectSeries&lt;R&gt;</code> representing individual columns. The type
<code>ObjectSeries&lt;R&gt;</code> is a thin wrapper over <code>Series&lt;R, obj&gt;</code> which adds several functions 
for getting the values as values of specified type.</p>

<p>In our case, the returned values are individual columns represented as <code>ObjectSeries&lt;string&gt;</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get column as an object series</span>
<span onmouseout="hideTip(event, 'fs16', 67)" onmouseover="showTip(event, 'fs16', 67)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">?</span><span class="i">Age</span>
<span onmouseout="hideTip(event, 'fs16', 68)" onmouseover="showTip(event, 'fs16', 68)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">?</span><span class="i">Countries</span>
<span class="fsi">val it : ObjectSeries&lt;string&gt; =</span>
<span class="fsi">  Joe     -&gt; [UK; US; UK]       </span>
<span class="fsi">  Tomas   -&gt; [CZ; UK; US; ... ] </span>
<span class="fsi">  Eve     -&gt; [FR]               </span>
<span class="fsi">  Suzanne -&gt; [US]</span>

<span class="c">// Get column &amp; try get column using members</span>
<span onmouseout="hideTip(event, 'fs16', 69)" onmouseover="showTip(event, 'fs16', 69)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span><span class="i">Get</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)
<span onmouseout="hideTip(event, 'fs16', 70)" onmouseover="showTip(event, 'fs16', 70)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span><span class="i">TryGet</span>(<span class="s">&quot;</span><span class="s">CreditCard</span><span class="s">&quot;</span>)
<span class="c">// Get column at a specified offset</span>
<span onmouseout="hideTip(event, 'fs16', 71)" onmouseover="showTip(event, 'fs16', 71)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span><span class="i">GetAt</span>(<span class="n">0</span>)

<span class="c">// Get column as object series and convert it</span>
<span class="c">// to a typed Series&lt;string, string&gt;</span>
<span onmouseout="hideTip(event, 'fs16', 72)" onmouseover="showTip(event, 'fs16', 72)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">?</span><span class="i">Name</span><span class="o">.</span><span class="i">As</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 73)" onmouseover="showTip(event, 'fs9', 73)" class="i">string</span><span class="o">&gt;</span>()
<span class="c">// Try converting column to Series&lt;string, int&gt;</span>
<span onmouseout="hideTip(event, 'fs16', 74)" onmouseover="showTip(event, 'fs16', 74)" class="i">people</span><span class="o">.</span><span class="i">Columns</span><span class="o">?</span><span class="i">Name</span><span class="o">.</span><span class="i">TryAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs11', 75)" onmouseover="showTip(event, 'fs11', 75)" class="i">int</span><span class="o">&gt;</span>()</pre>
</td>
</tr>
</table><p>The type <code>ObjectSeries&lt;string&gt;</code> has a few methods in addition to ordinary <code>Series&lt;K, V&gt;</code> type.
On the lines 18 and 20, we use <code>As&lt;T&gt;</code> and <code>TryAs&lt;T&gt;</code> that can be used to convert object series
to a series with statically known type of values. The expression on line 18 is equivalent to
<code>people.GetSeries&lt;string&gt;("Name")</code>, but it is not specific to frame columns - you can use the
same approach to work with frame rows (using <code>people.Rows</code>) if your data set has rows of 
homogeneous types.</p>

<p>Another case where you'll need to work with <code>ObjectSeries&lt;T&gt;</code> is when mapping over rows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Iterate over rows and get the length of country list</span>
<span onmouseout="hideTip(event, 'fs16', 76)" onmouseover="showTip(event, 'fs16', 76)" class="i">people</span><span class="o">.</span><span class="i">Rows</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">mapValues</span> (<span class="k">fun</span> <span class="i">row</span> <span class="k">-&gt;</span>
  <span class="i">row</span><span class="o">.</span><span class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 77)" onmouseover="showTip(event, 'fs9', 77)" class="i">string</span> <span onmouseout="hideTip(event, 'fs13', 78)" onmouseover="showTip(event, 'fs13', 78)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)<span class="o">.</span><span class="i">Length</span>)</pre>
</td>
</tr>
</table><p>The rows that you get as a result of <code>people.Rows</code> are heterogeneous (they contain values
of different types), so we cannot use <code>row.As&lt;T&gt;()</code> to convert all values of the series
to some type. Instead, we use <code>GetAs&lt;T&gt;(...)</code> which is similar to <code>Get(...)</code> but converts
the value to a given type. You could also achieve the same thing by writing <code>row?Countries</code> 
and then casting the result to <code>string list</code>, but the <code>GetAs</code> method provides a more convenient
syntax.</p>

<h3>Adding rows and columns</h3>

<p>The series type is <em>immutable</em> and so it is not possible to add new values to a series or 
change the values stored in an existing series. However, you can use operations that return
a new series as the result such as <code>Append</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Create series with more value</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 79)" onmouseover="showTip(event, 'fs34', 79)" class="i">more</span> <span class="o">=</span> <span class="i">series</span> [ <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="n">48.0</span> ]
<span class="c">// Create a new, concatenated series</span>
<span onmouseout="hideTip(event, 'fs16', 80)" onmouseover="showTip(event, 'fs16', 80)" class="i">people</span><span class="o">?</span><span class="i">Age</span><span class="o">.</span><span class="i">Append</span>(<span onmouseout="hideTip(event, 'fs34', 81)" onmouseover="showTip(event, 'fs34', 81)" class="i">more</span>)</pre>
</td>
</tr>
</table><p>Data frame allows a very limited form of mutation. It is possible to add new series (as a column)
to an existing data frame, drop a series or replace a series. However, individual series
are still immutable.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Calculate age + 1 for all people</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 82)" onmouseover="showTip(event, 'fs35', 82)" class="i">add1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 83)" onmouseover="showTip(event, 'fs16', 83)" class="i">people</span><span class="o">?</span><span class="i">Age</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">mapValues</span> ((<span class="o">+</span>) <span class="n">1.0</span>)

<span class="c">// Add as a new series to the frame</span>
<span onmouseout="hideTip(event, 'fs16', 84)" onmouseover="showTip(event, 'fs16', 84)" class="i">people</span><span class="o">?</span><span class="i">AgePlusOne</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs35', 85)" onmouseover="showTip(event, 'fs35', 85)" class="i">add1</span>

<span class="c">// Add new series from a list of values</span>
<span onmouseout="hideTip(event, 'fs16', 86)" onmouseover="showTip(event, 'fs16', 86)" class="i">people</span><span class="o">?</span><span class="i">Siblings</span> <span class="o">&lt;-</span> [<span class="n">0</span>; <span class="n">2</span>; <span class="n">1</span>; <span class="n">3</span>]

<span class="c">// Replace existing series with new values</span>
<span class="c">// (Equivalent to people?Siblings &lt;- ...)</span>
<span onmouseout="hideTip(event, 'fs16', 87)" onmouseover="showTip(event, 'fs16', 87)" class="i">people</span><span class="o">.</span><span class="i">ReplaceSeries</span>(<span class="s">&quot;</span><span class="s">Siblings</span><span class="s">&quot;</span>, [<span class="n">3</span>; <span class="n">2</span>; <span class="n">1</span>; <span class="n">0</span>])</pre>
</td>
</tr>
</table><p>Finally, it is also possible to append one data frame or a single row to an existing data
frame. The operation is immutable, so the result is a new data frame with the added
rows. To create a new row for the data frame, we can use standard ways of constructing
series from key-value pairs, or we can use the <code>SeriesBuilder</code> type:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Create new object series with values for required columns</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 88)" onmouseover="showTip(event, 'fs36', 88)" class="i">newRow</span> <span class="o">=</span> 
  [ <span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs37', 89)" onmouseover="showTip(event, 'fs37', 89)" class="i">box</span> <span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">Age</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs37', 90)" onmouseover="showTip(event, 'fs37', 90)" class="i">box</span> <span class="n">51</span>;
    <span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs37', 91)" onmouseover="showTip(event, 'fs37', 91)" class="i">box</span> [<span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>]; <span class="s">&quot;</span><span class="s">Siblings</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs37', 92)" onmouseover="showTip(event, 'fs37', 92)" class="i">box</span> <span class="n">5</span> ]
  <span class="o">|&gt;</span> <span class="i">series</span>
<span class="c">// Create a new data frame, containing the new series</span>
<span onmouseout="hideTip(event, 'fs16', 93)" onmouseover="showTip(event, 'fs16', 93)" class="i">people</span><span class="o">.</span><span class="i">Append</span>(<span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs36', 94)" onmouseover="showTip(event, 'fs36', 94)" class="i">newRow</span>)

<span class="c">// Another option is to use mutable SeriesBuilder</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 95)" onmouseover="showTip(event, 'fs38', 95)" class="i">otherRow</span> <span class="o">=</span> <span class="i">SeriesBuilder</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 96)" onmouseover="showTip(event, 'fs9', 96)" class="i">string</span><span class="o">&gt;</span>()
<span onmouseout="hideTip(event, 'fs38', 97)" onmouseover="showTip(event, 'fs38', 97)" class="i">otherRow</span><span class="o">?</span><span class="i">Name</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>
<span onmouseout="hideTip(event, 'fs38', 98)" onmouseover="showTip(event, 'fs38', 98)" class="i">otherRow</span><span class="o">?</span><span class="i">Age</span> <span class="o">&lt;-</span> <span class="n">51</span>
<span onmouseout="hideTip(event, 'fs38', 99)" onmouseover="showTip(event, 'fs38', 99)" class="i">otherRow</span><span class="o">?</span><span class="i">Countries</span> <span class="o">&lt;-</span> [<span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>]
<span onmouseout="hideTip(event, 'fs38', 100)" onmouseover="showTip(event, 'fs38', 100)" class="i">otherRow</span><span class="o">?</span><span class="i">Siblings</span> <span class="o">&lt;-</span> <span class="n">5</span>
<span class="c">// The Series property returns the built series</span>
<span onmouseout="hideTip(event, 'fs16', 101)" onmouseover="showTip(event, 'fs16', 101)" class="i">people</span><span class="o">.</span><span class="i">Append</span>(<span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs38', 102)" onmouseover="showTip(event, 'fs38', 102)" class="i">otherRow</span><span class="o">.</span><span class="i">Series</span>)</pre>
</td>
</tr>
</table><a name="slicing"></a>

<h2>Advanced slicing and lookup</h2>

<p>Given a series, we have a number of options for getting one or more values or 
observations (keys and an associated values) from the series. First, let's look
at different lookup operations that are available on any (even unordered series).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Sample series with different keys &amp; values</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 103)" onmouseover="showTip(event, 'fs39', 103)" class="i">nums</span> <span class="o">=</span> <span class="i">series</span> [ <span class="n">1</span> <span class="o">=&gt;</span> <span class="n">10.0</span>; <span class="n">2</span> <span class="o">=&gt;</span> <span class="n">20.0</span> ]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 104)" onmouseover="showTip(event, 'fs40', 104)" class="i">strs</span> <span class="o">=</span> <span class="i">series</span> [ <span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="s">&quot;</span><span class="s">Hi</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">cz</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="s">&quot;</span><span class="s">Ahoj</span><span class="s">&quot;</span> ]

<span class="c">// Lookup values using keys</span>
<span onmouseout="hideTip(event, 'fs39', 105)" onmouseover="showTip(event, 'fs39', 105)" class="i">nums</span><span class="o">.</span>[<span class="n">1</span>]
<span onmouseout="hideTip(event, 'fs40', 106)" onmouseover="showTip(event, 'fs40', 106)" class="i">strs</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span>]
<span class="c">// Supported when key is string</span>
<span onmouseout="hideTip(event, 'fs40', 107)" onmouseover="showTip(event, 'fs40', 107)" class="i">strs</span><span class="o">?</span><span class="i">en</span>      </pre>
</td>
</tr>
</table><p>For more examples, we use the <code>Age</code> column from <a href="#creating-recd">earlier data set</a> as example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get an unordered sample series </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 108)" onmouseover="showTip(event, 'fs41', 108)" class="i">ages</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 109)" onmouseover="showTip(event, 'fs16', 109)" class="i">people</span><span class="o">?</span><span class="i">Age</span>

<span class="c">// Returns value for a given key</span>
<span onmouseout="hideTip(event, 'fs41', 110)" onmouseover="showTip(event, 'fs41', 110)" class="i">ages</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>]
<span class="c">// Returns series with two keys from the source</span>
<span onmouseout="hideTip(event, 'fs41', 111)" onmouseover="showTip(event, 'fs41', 111)" class="i">ages</span><span class="o">.</span>[ [<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">Joe</span><span class="s">&quot;</span>] ]</pre>
</td>
</tr>
</table><p>The <code>Series</code> module provides another set of useful functions (many of those
are also available as members, for example via <code>ages.TryGet</code>):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Fails when key is not present</span>
<span onmouseout="hideTip(event, 'fs41', 112)" onmouseover="showTip(event, 'fs41', 112)" class="i">ages</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">get</span> <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span>
<span class="c">// Returns &#39;None&#39; when key is not present</span>
<span onmouseout="hideTip(event, 'fs41', 113)" onmouseover="showTip(event, 'fs41', 113)" class="i">ages</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">tryGet</span> <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span>
<span class="c">// Returns series with missing value for &#39;John&#39;</span>
<span class="c">// (equivalent to &#39;ages.[ [&quot;Tomas&quot;; &quot;John&quot;] ]&#39;)</span>
<span onmouseout="hideTip(event, 'fs41', 114)" onmouseover="showTip(event, 'fs41', 114)" class="i">ages</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">getAll</span> [ <span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span> ]</pre>
</td>
</tr>
</table><p>We can also obtain all data from the series. The data frame library uses the
term <em>observations</em> for all key-value pairs</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get all observations as a sequence of &#39;KeyValuePair&#39;</span>
<span onmouseout="hideTip(event, 'fs41', 115)" onmouseover="showTip(event, 'fs41', 115)" class="i">ages</span><span class="o">.</span><span class="i">Observations</span>
<span class="c">// Get all observations as a sequence of tuples</span>
<span onmouseout="hideTip(event, 'fs41', 116)" onmouseover="showTip(event, 'fs41', 116)" class="i">ages</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">observations</span>
<span class="c">// Get all observations, with &#39;None&#39; for missing values</span>
<span onmouseout="hideTip(event, 'fs41', 117)" onmouseover="showTip(event, 'fs41', 117)" class="i">ages</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">observationsAll</span></pre>
</td>
</tr>
</table><p>The previous examples were always looking for an exact key. If we have an ordered
series, we can search for a nearest available key and we can also perform slicing.
We use MSFT stock prices <a href="#creating-csv">from earlier example</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get series with opening prices</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 118)" onmouseover="showTip(event, 'fs42', 118)" class="i">opens</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 119)" onmouseover="showTip(event, 'fs3', 119)" class="i">msft</span><span class="o">?</span><span class="i">Open</span>

<span class="c">// Fails. The key is not available in the series</span>
<span onmouseout="hideTip(event, 'fs42', 120)" onmouseover="showTip(event, 'fs42', 120)" class="i">opens</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs43', 121)" onmouseover="showTip(event, 'fs43', 121)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>)]
<span class="c">// Works. Find value for the nearest greater key</span>
<span onmouseout="hideTip(event, 'fs42', 122)" onmouseover="showTip(event, 'fs42', 122)" class="i">opens</span><span class="o">.</span><span class="i">Get</span>(<span onmouseout="hideTip(event, 'fs43', 123)" onmouseover="showTip(event, 'fs43', 123)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>), <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestGreater</span>)
<span class="c">// Works. Find value for the nearest smaler key</span>
<span onmouseout="hideTip(event, 'fs42', 124)" onmouseover="showTip(event, 'fs42', 124)" class="i">opens</span><span class="o">.</span><span class="i">Get</span>(<span onmouseout="hideTip(event, 'fs43', 125)" onmouseover="showTip(event, 'fs43', 125)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>), <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestSmaller</span>)</pre>
</td>
</tr>
</table><p>When using instance members, we can use <code>Get</code> which has an overload taking
<code>Lookup</code>. The same functionality is exposed using <code>Series.lookup</code>. We can
also obtain values for a sequence of keys:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Find value for the nearest greater key</span>
<span onmouseout="hideTip(event, 'fs42', 126)" onmouseover="showTip(event, 'fs42', 126)" class="i">opens</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">lookup</span> (<span onmouseout="hideTip(event, 'fs43', 127)" onmouseover="showTip(event, 'fs43', 127)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>)) <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestGreater</span>

<span class="c">// Get first price for each month in 2012</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 128)" onmouseover="showTip(event, 'fs44', 128)" class="i">dates</span> <span class="o">=</span> [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs45', 129)" onmouseover="showTip(event, 'fs45', 129)" class="i">m</span> <span class="k">in</span> <span class="n">1</span> <span class="o">..</span> <span class="n">12</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 130)" onmouseover="showTip(event, 'fs43', 130)" class="i">DateTime</span>(<span class="n">2012</span>, <span onmouseout="hideTip(event, 'fs45', 131)" onmouseover="showTip(event, 'fs45', 131)" class="i">m</span>, <span class="n">1</span>) ]
<span onmouseout="hideTip(event, 'fs42', 132)" onmouseover="showTip(event, 'fs42', 132)" class="i">opens</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">lookupAll</span> <span onmouseout="hideTip(event, 'fs44', 133)" onmouseover="showTip(event, 'fs44', 133)" class="i">dates</span> <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestGreater</span></pre>
</td>
</tr>
</table><p>With ordered series, we can use slicing to get a sub-range of a series:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs42', 134)" onmouseover="showTip(event, 'fs42', 134)" class="i">opens</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs43', 135)" onmouseover="showTip(event, 'fs43', 135)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>) <span class="o">..</span> <span onmouseout="hideTip(event, 'fs43', 136)" onmouseover="showTip(event, 'fs43', 136)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">31</span>)]
<span class="fsi">val it : Series&lt;DateTime,float&gt; =</span>
<span class="fsi">  1/2/2013  -&gt; 27.25 </span>
<span class="fsi">  1/3/2013  -&gt; 27.63 </span>
<span class="fsi">  ...</span>
<span class="fsi">  1/30/2013 -&gt; 28.01 </span>
<span class="fsi">  1/31/2013 -&gt; 27.79 </span></pre>
</td>
</tr>
</table><p>The slicing works even if the keys are not available in the series. The lookup
automatically uses nearest greater lower bound and nearest smaller upper bound
(here, we have no value for January 1).</p>

<p>Several other options - discussed in <a href="#indexing">a later section</a> - are available when using
hierarchical (or multi-level) indices. But first, we need to look at grouping.</p>

<a name="grouping"></a>

<h2>Grouping data</h2>

<p>Grouping of data can be performed on both unordered and ordered series and frames.
For ordered series, more options (such as floating window or grouping of consecutive
elements) are available - these can be found in the <a href="timeseries.html">time series tutorial</a>.
There are essentially two options:</p>

<ul>
<li><p>You can group series of any values and get a series of series (representing individual 
groups). The result can easily be turned into a data frame using <code>Frame.ofColumns</code> or
<code>Frame.ofRows</code>, but this is not done automatically.</p></li>
<li><p>You can group a frame rows using values in a specified column, or using a function.
The result is a frame with multi-level (hierarchical) index. Hierarchical indexing
<a href="#indexing">is discussed later</a>.</p></li>
</ul>

<p>Keep in mind that you can easily get a series of rows or a series of columns from a frame
using <code>df.Rows</code> and <code>df.Columns</code>, so the first option is also useful on data frames.</p>

<h3>Grouping series</h3>

<p>In the following sample, we use the data frame <code>people</code> loaded from F# records in 
<a href="#creating-recd">an earlier section</a>. Let's first get the data:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 137)" onmouseover="showTip(event, 'fs46', 137)" class="i">travels</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 138)" onmouseover="showTip(event, 'fs16', 138)" class="i">people</span><span class="o">.</span><span class="i">GetSeries</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 139)" onmouseover="showTip(event, 'fs9', 139)" class="i">string</span> <span onmouseout="hideTip(event, 'fs13', 140)" onmouseover="showTip(event, 'fs13', 140)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)
<span class="fsi">val travels : Series&lt;string,string list&gt; =</span>
<span class="fsi">  Joe     -&gt; [UK; US; UK]       </span>
<span class="fsi">  Tomas   -&gt; [CZ; UK; US; ... ] </span>
<span class="fsi">  Eve     -&gt; [FR] </span>
<span class="fsi">  Suzanne -&gt; [US]</span></pre>
</td>
</tr>
</table><p>Now we can group the elements using both key (e.g. length of a name) and using the
value (e.g. the number of visited countries):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Group by name length (ignoring visited countries)</span>
<span onmouseout="hideTip(event, 'fs46', 141)" onmouseover="showTip(event, 'fs46', 141)" class="i">travels</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">groupBy</span> (<span class="k">fun</span> <span class="i">k</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">k</span><span class="o">.</span><span class="i">Length</span>)
<span class="c">// Group by visited countries (people visited/not visited US)</span>
<span onmouseout="hideTip(event, 'fs46', 142)" onmouseover="showTip(event, 'fs46', 142)" class="i">travels</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">groupBy</span> (<span class="k">fun</span> <span class="i">k</span> <span class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs47', 143)" onmouseover="showTip(event, 'fs47', 143)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 144)" onmouseover="showTip(event, 'fs48', 144)" class="i">exists</span> ((<span class="o">=</span>) <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>) <span class="i">v</span>)

<span class="c">// Group by name length and get number of values in each group</span>
<span onmouseout="hideTip(event, 'fs46', 145)" onmouseover="showTip(event, 'fs46', 145)" class="i">travels</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">groupInto</span> 
  (<span class="k">fun</span> <span class="i">k</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">k</span><span class="o">.</span><span class="i">Length</span>) 
  (<span class="k">fun</span> <span class="i">len</span> <span onmouseout="hideTip(event, 'fs16', 146)" onmouseover="showTip(event, 'fs16', 146)" class="i">people</span> <span class="k">-&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">countKeys</span> <span onmouseout="hideTip(event, 'fs16', 147)" onmouseover="showTip(event, 'fs16', 147)" class="i">people</span>)</pre>
</td>
</tr>
</table><p>The <code>groupBy</code> function returns a series of series (series with new keys, containing
series with all values for a given new key). You can than transform the values using
<code>Series.mapValues</code>. However, if you want to avoid allocating all intermediate series,
you can also use <code>Series.groupInto</code> which takes projection function as a second argument.
In the above examples, we count the number of keys in each group.</p>

<p>As a final example, let's say that we want to build a data frame that contains individual
people (as rows), all countries that appear in someone's travel list (as columns). 
The frame contains the number of visits to each country by each person:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs46', 148)" onmouseover="showTip(event, 'fs46', 148)" class="i">travels</span>
<span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">mapValues</span> (<span onmouseout="hideTip(event, 'fs49', 149)" onmouseover="showTip(event, 'fs49', 149)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 150)" onmouseover="showTip(event, 'fs50', 150)" class="i">countBy</span> <span onmouseout="hideTip(event, 'fs51', 151)" onmouseover="showTip(event, 'fs51', 151)" class="i">id</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span class="i">series</span>)
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ofRows</span>
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">fillMissingWith</span> <span class="n">0</span>
<span class="fsi">val it : Frame&lt;string,string&gt; =  </span>
<span class="fsi">             CZ FR UK US </span>
<span class="fsi">  Joe     -&gt; 0  0  2  1  </span>
<span class="fsi">  Tomas   -&gt; 2  0  1  1  </span>
<span class="fsi">  Eve     -&gt; 0  1  0  0  </span>
<span class="fsi">  Suzanne -&gt; 0  0  0  1  </span></pre>
</td>
</tr>
</table><p>The problem can be solved just using <code>Series.mapValues</code>, together with standard F#
<code>Seq</code> functions. We iterate over all rows (people and their countries). For each
country list, we generate a series that contains individual countries and the count
of visits (this is done by composing <code>Seq.countBy</code> and a function <code>series</code> to build
a series of observations). Then we turn the result to a data frame and fill missing
values with the constant zero (see a section about <a href="#missing">handling missing values</a>).</p>

<h3>Grouping data frames</h3>

<p>So far, we worked with series and series of series (which can be turned into data frames
using <code>Frame.ofRows</code> and <code>Frame.ofColumns</code>). Next, we look at working with data frames.</p>

<p>Assume we loaded <a href="http://www.kaggle.com/c/titanic-gettingStarted">Titanic data set</a> 
that is also used on the <a href="index.html">project home page</a>. First, let's look at basic
grouping (also used in the home page demo):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Group using column &#39;Sex&#39; of type &#39;string&#39;</span>
<span onmouseout="hideTip(event, 'fs1', 152)" onmouseover="showTip(event, 'fs1', 152)" class="i">titanic</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>

<span class="c">// Grouping using column converted to &#39;decimal&#39;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 153)" onmouseover="showTip(event, 'fs52', 153)" class="i">byDecimal</span> <span class="o">:</span> <span class="i">Frame</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs53', 154)" onmouseover="showTip(event, 'fs53', 154)" class="i">decimal</span> <span class="o">*</span> _, _<span class="o">&gt;</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs1', 155)" onmouseover="showTip(event, 'fs1', 155)" class="i">titanic</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsBy</span> <span class="s">&quot;</span><span class="s">Fare</span><span class="s">&quot;</span>

<span class="c">// This is easier using member syntax</span>
<span onmouseout="hideTip(event, 'fs1', 156)" onmouseover="showTip(event, 'fs1', 156)" class="i">titanic</span><span class="o">.</span><span class="i">GroupRowsBy</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs53', 157)" onmouseover="showTip(event, 'fs53', 157)" class="i">decimal</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Fare</span><span class="s">&quot;</span>)

<span class="c">// Group using calculated value - length of name</span>
<span onmouseout="hideTip(event, 'fs1', 158)" onmouseover="showTip(event, 'fs1', 158)" class="i">titanic</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsUsing</span> (<span class="k">fun</span> <span class="i">k</span> <span class="i">row</span> <span class="k">-&gt;</span> 
  <span class="i">row</span><span class="o">.</span><span class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs9', 159)" onmouseover="showTip(event, 'fs9', 159)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)<span class="o">.</span><span class="i">Length</span>)</pre>
</td>
</tr>
</table><p>When working with frames, you can group data using both rows and columns. For most
functions there is <code>groupRows</code> and <code>groupCols</code> equivalent.
The easiest functions to use are <code>Frame.groupRowsByXyz</code> where <code>Xyz</code> specifies the 
type of the column that we're using for grouping. For example, we can easily group
rows using the "Sex" column.</p>

<p>When using less common type, you need to specify the type of the column. You can 
see this on lines 5 and 9 where we use <code>decimal</code> as the key. Finally, you can also
specify key selector as a function. The function gets the original key and the row
as a value of <code>ObjectSeries&lt;K&gt;</code>. The type has various members for getting individual
values (columns) such as <code>GetAs</code> which allows us to get a column of a specified type.</p>

<h3>Grouping by single key</h3>

<p>A grouped data frame uses multi-level index. This means that the index is a tuple
of keys that represent multiple levels. For example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 160)" onmouseover="showTip(event, 'fs1', 160)" class="i">titanic</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>
<span class="fsi">val it : Frame&lt;(string * int),string&gt; =</span>
<span class="fsi">                Survive   Name                    </span>
<span class="fsi">  female 2   -&gt; True      Heikkinen, Miss. Laina  </span>
<span class="fsi">         11  -&gt; True      Bonnell, Miss. Elizabeth</span>
<span class="fsi">         19  -&gt; True      Masselmani, Mrs. Fatima </span>
<span class="fsi">                ...       ...                     </span>
<span class="fsi">  male   870 -&gt; False     Balkic, Mr. Cerin       </span>
<span class="fsi">         878 -&gt; False     Laleff, Mr. Kristo      </span></pre>
</td>
</tr>
</table><p>As you can see, the pretty printer understands multi-level indices and 
outputs the first level (sex) followed by the second level (passanger id).
You can turn frame with two-level index into a series of data frames
(and vice versa) using <code>Frame.unnest</code> and <code>Frame.nest</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 161)" onmouseover="showTip(event, 'fs54', 161)" class="i">bySex</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 162)" onmouseover="showTip(event, 'fs1', 162)" class="i">titanic</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span> 
<span class="c">// Returns series with two frames as values</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 163)" onmouseover="showTip(event, 'fs55', 163)" class="i">bySex1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 164)" onmouseover="showTip(event, 'fs54', 164)" class="i">bySex</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">nest</span>
<span class="c">// Converts unstacked data back to a single frame</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 165)" onmouseover="showTip(event, 'fs56', 165)" class="i">bySex2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 166)" onmouseover="showTip(event, 'fs54', 166)" class="i">bySex</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">nest</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">unnest</span></pre>
</td>
</tr>
</table><h3>Grouping by multiple keys</h3>

<p>Finally, we can also apply grouping operation repeatedly to group data using
multiple keys (and get a frame indexed by more than 2 levels). For example,
we can group passangers by their class and port where they embarked:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Group by passanger class and port</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 167)" onmouseover="showTip(event, 'fs57', 167)" class="i">byClassAndPort</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs1', 168)" onmouseover="showTip(event, 'fs1', 168)" class="i">titanic</span>
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsByInt</span> <span class="s">&quot;</span><span class="s">Pclass</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Embarked</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">mapRowKeys</span> <span class="i">Pair</span><span class="o">.</span><span class="i">flatten3</span>

<span class="c">// Get just the Age series with the same row index</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 169)" onmouseover="showTip(event, 'fs58', 169)" class="i">ageByClassAndPort</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 170)" onmouseover="showTip(event, 'fs57', 170)" class="i">byClassAndPort</span><span class="o">?</span><span class="i">Age</span></pre>
</td>
</tr>
</table><p>If you look at the type of <code>byClassAndPort</code>, you can see that it is
<code>Frame&lt;(string * int * int),string&gt;</code>. The row key is a tripple consisting
of port identifier (string), passanger class (int between 1 and 3) and the
passanger id. The multi-level indexing is preserved when we get a single
series from the frame.</p>

<p>As our last example, we look at various ways of aggregating the groups:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get average ages in each group</span>
<span onmouseout="hideTip(event, 'fs57', 171)" onmouseover="showTip(event, 'fs57', 171)" class="i">byClassAndPort</span><span class="o">?</span><span class="i">Age</span>
<span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">meanLevel</span> <span class="i">Pair</span><span class="o">.</span><span class="i">get1And2Of3</span>

<span class="c">// Averages for all numeric columns</span>
<span onmouseout="hideTip(event, 'fs57', 172)" onmouseover="showTip(event, 'fs57', 172)" class="i">byClassAndPort</span>
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">meanLevel</span> <span class="i">Pair</span><span class="o">.</span><span class="i">get1And2Of3</span>

<span class="c">// Count number of survivors in each group</span>
<span onmouseout="hideTip(event, 'fs57', 173)" onmouseover="showTip(event, 'fs57', 173)" class="i">byClassAndPort</span><span class="o">.</span><span class="i">GetSeries</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs59', 174)" onmouseover="showTip(event, 'fs59', 174)" class="i">bool</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Survived</span><span class="s">&quot;</span>)
<span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">applyLevel</span> <span class="i">Pair</span><span class="o">.</span><span class="i">get1And2Of3</span> (<span onmouseout="hideTip(event, 'fs49', 175)" onmouseover="showTip(event, 'fs49', 175)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 176)" onmouseover="showTip(event, 'fs50', 176)" class="i">countBy</span> <span onmouseout="hideTip(event, 'fs51', 177)" onmouseover="showTip(event, 'fs51', 177)" class="i">id</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span class="i">series</span>)
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">ofRows</span></pre>
</td>
</tr>
</table><p>The last snippet is more interesting. We get the "Survived" column (which 
contains Boolean values) and we aggregate each group using a specified function.
The function is composed from three components - it first gets the values in the
group, counts them (to get a number of <code>true</code> and <code>false</code> values) and then creates
a series with the results. The result looks as the following table (some values
were omitted):</p>

<pre><code>         True  False     
C 1  -&gt;  59    26        
  2  -&gt;  9     8         
  3  -&gt;  25    41        
S 1  -&gt;  74    53        
  2  -&gt;  76    88        
  3  -&gt;  67    286      
</code></pre>

<a name="indexing"></a>

<h2>Hierarchical indexing</h2>

<p>For some data sets, the index is not a simple sequence of keys, but instead a more
complex hierarchy. This can be captured using hierarchical indices. They also provide
a convenient way of dealing with multi-dimensional data. The most common source
of multi-level indices is grouping (the previous section has a number of examples).</p>

<h3>Lookup in the World Bank data set</h3>

<p>In this section, we start by looking at the <a href="#creating-wb">World Bank data set from earlier</a>.
It is a data frame with two-level hierarchy of columns, where the first level is the name
of region and the second level is the name of country.</p>

<p>Basic lookup can be performed using slicing operators. The following are only available 
in F# 3.1:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get all countries in Euro area</span>
<span onmouseout="hideTip(event, 'fs32', 178)" onmouseover="showTip(event, 'fs32', 178)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="o">*</span>]
<span class="c">// Get Belgium data from Euro area group</span>
<span onmouseout="hideTip(event, 'fs32', 179)" onmouseover="showTip(event, 'fs32', 179)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[(<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>)]
<span class="c">// Belgium is returned twice - from both Euro and OECD</span>
<span onmouseout="hideTip(event, 'fs32', 180)" onmouseover="showTip(event, 'fs32', 180)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[<span class="o">*</span>, <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>]</pre>
</td>
</tr>
</table><p>In F# 3.0, you can use a family of helper functions <code>LookupXOfY</code> as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get all countries in Euro area</span>
<span onmouseout="hideTip(event, 'fs32', 181)" onmouseover="showTip(event, 'fs32', 181)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[<span class="i">Lookup1Of2</span> <span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>]
<span class="c">// Belgium is returned twice - from both Euro and OECD</span>
<span onmouseout="hideTip(event, 'fs32', 182)" onmouseover="showTip(event, 'fs32', 182)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[<span class="i">Lookup2Of2</span> <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>]</pre>
</td>
</tr>
</table><p>The lookup operations always return data frame of the same type as the original frame.
This means that even if you select one sub-group, you get back a frame with the same
multi-level hierarchy of keys. This can be easily changed using projection on keys:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Drop the first level of keys (and get just countries)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs60', 183)" onmouseover="showTip(event, 'fs60', 183)" class="i">euro</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs32', 184)" onmouseover="showTip(event, 'fs32', 184)" class="i">world</span><span class="o">.</span><span class="i">Columns</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="o">*</span>]
  <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">mapColKeys</span> <span onmouseout="hideTip(event, 'fs61', 185)" onmouseover="showTip(event, 'fs61', 185)" class="i">snd</span></pre>
</td>
</tr>
</table><h3>Grouping and aggregating World Bank data</h3>

<p>Hierarchical keys are often created as a result of grouping. For example, we can group
the rows (representing individual years) in the Euro zone data set by decades
(for more information about grouping see also <a href="#grouping">grouping section</a> in this
document).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 186)" onmouseover="showTip(event, 'fs62', 186)" class="i">decades</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 187)" onmouseover="showTip(event, 'fs60', 187)" class="i">euro</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupRowsUsing</span> (<span class="k">fun</span> <span class="i">k</span> _ <span class="k">-&gt;</span> 
  <span onmouseout="hideTip(event, 'fs63', 188)" onmouseover="showTip(event, 'fs63', 188)" class="i">sprintf</span> <span class="s">&quot;</span><span class="s">%</span><span class="s">d0s</span><span class="s">&quot;</span> (<span class="i">k</span> <span class="o">/</span> <span class="n">10</span>))
<span class="fsi"> </span>
<span class="fsi">val decades : Frame&lt;(string * int),string&gt; =</span>
<span class="fsi">                Austria  Estonia   ...      </span>
<span class="fsi">  1960s 1960 -&gt; 6.592    &lt;missing&gt; </span>
<span class="fsi">        1961 -&gt; 7.311    &lt;missing&gt; </span>
<span class="fsi">        ...  </span>
<span class="fsi">  2010s 2010 -&gt; 376.8    18.84 </span>
<span class="fsi">        2011 -&gt; 417.6    22.15 </span>
<span class="fsi">        2012 -&gt; 399.6    21.85 </span></pre>
</td>
</tr>
</table><p>Now that we have a data frame with hierarchical index, we can select data
in a single group, such as 1990s. The result is a data frame of the same type.
We can also multiply the values, to get original GDP in USD (rather than billions):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs62', 189)" onmouseover="showTip(event, 'fs62', 189)" class="i">decades</span><span class="o">.</span><span class="i">Rows</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">1990</span><span class="s">s</span><span class="s">&quot;</span>, <span class="o">*</span>] <span class="o">*</span> <span class="n">1e9</span></pre>
</td>
</tr>
</table><p>The <code>Frame</code> and <code>Series</code> modules provide a number of functions for aggregating the
groups. We can access a specific country and aggregate GDP for a country, or we can
apply aggregation to the entire data set:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Calculate means per decades for Slovakia</span>
<span onmouseout="hideTip(event, 'fs62', 190)" onmouseover="showTip(event, 'fs62', 190)" class="i">decades</span><span class="o">?</span><span class="i">``Slovak Republic``</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">meanLevel</span> <span onmouseout="hideTip(event, 'fs64', 191)" onmouseover="showTip(event, 'fs64', 191)" class="i">fst</span>

<span class="c">// Calculate means per decateds for all countries</span>
<span onmouseout="hideTip(event, 'fs62', 192)" onmouseover="showTip(event, 'fs62', 192)" class="i">decades</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">meanLevel</span> <span onmouseout="hideTip(event, 'fs64', 193)" onmouseover="showTip(event, 'fs64', 193)" class="i">fst</span>

<span class="c">// Calculate means per decades in USD</span>
<span onmouseout="hideTip(event, 'fs62', 194)" onmouseover="showTip(event, 'fs62', 194)" class="i">decades</span> <span class="o">*</span> <span class="n">1.0e9</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">meanLevel</span> <span onmouseout="hideTip(event, 'fs64', 195)" onmouseover="showTip(event, 'fs64', 195)" class="i">fst</span></pre>
</td>
</tr>
</table><p>So far, we were working with data frames that only had one hierarchical index. However,
it is perfectly possible to have hierarchical index for both rows and columns. The following
snippet groups countries by their average GDP (in addition to grouping rows by decades):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Group countries by comparing average GDP with $500bn</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 196)" onmouseover="showTip(event, 'fs65', 196)" class="i">byGDP</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 197)" onmouseover="showTip(event, 'fs62', 197)" class="i">decades</span> <span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">groupColsUsing</span> (<span class="k">fun</span> <span class="i">k</span> <span class="i">v</span> <span class="k">-&gt;</span> 
  <span class="i">v</span><span class="o">.</span><span class="i">As</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs66', 198)" onmouseover="showTip(event, 'fs66', 198)" class="i">float</span><span class="o">&gt;</span>() <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">mean</span> <span class="o">&gt;</span> <span class="n">500.0</span>)</pre>
</td>
</tr>
</table><p>You can see (by hovering over <code>byGDP</code>) that the two hierarchies are captured in the type.
The column key is <code>bool * string</code> (rich? and name) and the row key is <code>string * int</code> 
(decade, year). This creates two groups of columns. One containing France, Germany and
Italy and the other containing remaining countries.</p>

<p>The aggregations are only (directly) supported on rows, but we can use <code>Frame.transpose</code>
to switch between rows and columns. The following calculates the mean for each group
of countries and for each decade:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Mean by decade and then mean by country group</span>
<span onmouseout="hideTip(event, 'fs65', 199)" onmouseover="showTip(event, 'fs65', 199)" class="i">byGDP</span>
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">meanLevel</span> <span onmouseout="hideTip(event, 'fs64', 200)" onmouseover="showTip(event, 'fs64', 200)" class="i">fst</span>
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">transpose</span>
<span class="o">|&gt;</span> <span class="i">Frame</span><span class="o">.</span><span class="i">meanLevel</span> <span onmouseout="hideTip(event, 'fs64', 201)" onmouseover="showTip(event, 'fs64', 201)" class="i">fst</span>
<span class="fsi">val it : Frame&lt;bool,string&gt; =</span>
<span class="fsi">           1960s  1970s  ... 2010s</span>
<span class="fsi">  False -&gt; 10.45  34.37      306.89</span>
<span class="fsi">  True  -&gt; 82.74  335.71     2719.26</span></pre>
</td>
</tr>
</table><a name="missing"></a>

<h2>Handling missing values</h2>

<p>THe support for missing values is built-in, which means that any series or frame can
contain missing values. When constructing series or frames from data, certain values
are automatically treated as "missing values". This includes <code>Double.NaN</code>, <code>null</code> values
for reference types and for nullable types:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">Series</span><span class="o">.</span><span class="i">ofValues</span> [ <span onmouseout="hideTip(event, 'fs67', 202)" onmouseover="showTip(event, 'fs67', 202)" class="i">Double</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs68', 203)" onmouseover="showTip(event, 'fs68', 203)" class="i">NaN</span>; <span class="n">1.0</span>; <span class="n">3.14</span> ]
<span class="fsi">val it : Series&lt;int,float&gt; =</span>
<span class="fsi">  0 -&gt; &lt;missing&gt; </span>
<span class="fsi">  1 -&gt; 1        </span>
<span class="fsi">  2 -&gt; 3.14    </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 204)" onmouseover="showTip(event, 'fs69', 204)" class="i">nulls</span> <span class="o">=</span> 
  [ <span onmouseout="hideTip(event, 'fs70', 205)" onmouseover="showTip(event, 'fs70', 205)" class="i">Nullable</span>(<span class="n">1</span>); <span onmouseout="hideTip(event, 'fs70', 206)" onmouseover="showTip(event, 'fs70', 206)" class="i">Nullable</span>(); <span onmouseout="hideTip(event, 'fs70', 207)" onmouseover="showTip(event, 'fs70', 207)" class="i">Nullable</span>(<span class="n">3</span>) ]
  <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">ofValues</span></pre>
</td>
</tr>
</table><p>Missing values are automatically skipped when performing statistical computations such
as <code>Series.mean</code>. They are also ignored by projections and filtering, including
<code>Series.mapValues</code>. When you want to handle missing values, you can use <code>Series.mapAll</code> 
that gets the value as <code>option&lt;T&gt;</code> (we use sample data set from <a href="#creating-csv">earlier section</a>):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Get column with missing values</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 208)" onmouseover="showTip(event, 'fs71', 208)" class="i">ozone</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 209)" onmouseover="showTip(event, 'fs4', 209)" class="i">air</span><span class="o">?</span><span class="i">Ozone</span> 

<span class="c">// Replace missing values with zeros</span>
<span onmouseout="hideTip(event, 'fs71', 210)" onmouseover="showTip(event, 'fs71', 210)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">mapAll</span> (<span class="k">fun</span> <span class="i">k</span> <span class="i">v</span> <span class="k">-&gt;</span> 
  <span class="k">match</span> <span class="i">v</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs72', 211)" onmouseover="showTip(event, 'fs72', 211)" class="i">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs73', 212)" onmouseover="showTip(event, 'fs73', 212)" class="i">Some</span> <span class="n">0.0</span> | <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">v</span>)</pre>
</td>
</tr>
</table><p>In practice, you will not need to use <code>Series.mapAll</code> very often, because the
series module provides functions that fill missing values more easily:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Fill missing values with constant</span>
<span onmouseout="hideTip(event, 'fs71', 213)" onmouseover="showTip(event, 'fs71', 213)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">fillMissingWith</span> <span class="n">0.0</span>

<span class="c">// Available values are copied in backward </span>
<span class="c">// direction to fill missing values</span>
<span onmouseout="hideTip(event, 'fs71', 214)" onmouseover="showTip(event, 'fs71', 214)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">fillMissing</span> <span class="i">Direction</span><span class="o">.</span><span class="i">Backward</span>

<span class="c">// Available values are propagated forward</span>
<span class="c">// (if the first value is missing, it is not filled!)</span>
<span onmouseout="hideTip(event, 'fs71', 215)" onmouseover="showTip(event, 'fs71', 215)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">fillMissing</span> <span class="i">Direction</span><span class="o">.</span><span class="i">Forward</span>

<span class="c">// Fill values and drop those that could not be filled</span>
<span onmouseout="hideTip(event, 'fs71', 216)" onmouseover="showTip(event, 'fs71', 216)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">fillMissing</span> <span class="i">Direction</span><span class="o">.</span><span class="i">Forward</span>
      <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">dropMissing</span></pre>
</td>
</tr>
</table><p>Various other strategies for handling missing values are not currently directly 
supported by the library, but can be easily added using <code>Series.fillMissingUsing</code>.
It takes a function and calls it on all missing values. If we have an interpolation
function, then we can pass it to <code>fillMissingUsing</code> and perform any interpolation 
needed.</p>

<p>For example, the following snippet gets the previous and next values and averages
them (if they are available) or returns one of them (or zero if there are no values
at all):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Fill missing values using interpolation function</span>
<span onmouseout="hideTip(event, 'fs71', 217)" onmouseover="showTip(event, 'fs71', 217)" class="i">ozone</span> <span class="o">|&gt;</span> <span class="i">Series</span><span class="o">.</span><span class="i">fillMissingUsing</span> (<span class="k">fun</span> <span class="i">k</span> <span class="k">-&gt;</span> 
  <span class="c">// Get previous and next values</span>
  <span class="k">let</span> <span class="i">prev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 218)" onmouseover="showTip(event, 'fs71', 218)" class="i">ozone</span><span class="o">.</span><span class="i">TryGet</span>(<span class="i">k</span>, <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestSmaller</span>)
  <span class="k">let</span> <span class="i">next</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 219)" onmouseover="showTip(event, 'fs71', 219)" class="i">ozone</span><span class="o">.</span><span class="i">TryGet</span>(<span class="i">k</span>, <span class="i">Lookup</span><span class="o">.</span><span class="i">NearestGreater</span>)
  <span class="c">// Pattern match to check which values were available</span>
  <span class="k">match</span> <span class="i">prev</span>, <span class="i">next</span> <span class="k">with</span> 
  | <span class="i">OptionalValue</span><span class="o">.</span><span class="i">Present</span>(<span class="i">p</span>), <span class="i">OptionalValue</span><span class="o">.</span><span class="i">Present</span>(<span class="i">n</span>) <span class="k">-&gt;</span> 
      (<span class="i">p</span> <span class="o">+</span> <span class="i">n</span>) <span class="o">/</span> <span class="n">2.0</span>
  | <span class="i">OptionalValue</span><span class="o">.</span><span class="i">Present</span>(<span class="i">v</span>), _ 
  | _, <span class="i">OptionalValue</span><span class="o">.</span><span class="i">Present</span>(<span class="i">v</span>) <span class="k">-&gt;</span> <span class="i">v</span>
  | _ <span class="k">-&gt;</span> <span class="n">0.0</span>)</pre>
</td>
</tr>
</table>
<div class="tip" id="fs1">val titanic : obj<br /><br />Full name: Features.titanic</div>
<div class="tip" id="fs2">val root : string<br /><br />Full name: Features.root</div>
<div class="tip" id="fs3">val msft : obj<br /><br />Full name: Features.msft</div>
<div class="tip" id="fs4">val air : &#39;a (requires member ( ? ))<br /><br />Full name: Features.air</div>
<div class="tip" id="fs5">type Path =<br />&#160;&#160;static val DirectorySeparatorChar : char<br />&#160;&#160;static val AltDirectorySeparatorChar : char<br />&#160;&#160;static val VolumeSeparatorChar : char<br />&#160;&#160;static val InvalidPathChars : char[]<br />&#160;&#160;static val PathSeparator : char<br />&#160;&#160;static member ChangeExtension : path:string * extension:string -&gt; string<br />&#160;&#160;static member Combine : params paths:string[] -&gt; string + 3 overloads<br />&#160;&#160;static member GetDirectoryName : path:string -&gt; string<br />&#160;&#160;static member GetExtension : path:string -&gt; string<br />&#160;&#160;static member GetFileName : path:string -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.IO.Path</div>
<div class="tip" id="fs6">Path.GetTempFileName() : string</div>
<div class="tip" id="fs7">type Person =<br />&#160;&#160;{Name: string;<br />&#160;&#160;&#160;Age: int;<br />&#160;&#160;&#160;Countries: string list;}<br /><br />Full name: Features.Person</div>
<div class="tip" id="fs8">Person.Name: string</div>
<div class="tip" id="fs9">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs10">Person.Age: int</div>
<div class="tip" id="fs11">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs12">Person.Countries: string list</div>
<div class="tip" id="fs13">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs14">val peopleRecds : Person list<br /><br />Full name: Features.peopleRecds</div>
<div class="tip" id="fs15">val peopleList : &#39;a<br /><br />Full name: Features.peopleList</div>
<div class="tip" id="fs16">val people : &#39;a (requires member ( ? ) and member ( ?&lt;- ) and member ( ?&lt;- ) and member ( ? ))<br /><br />Full name: Features.people</div>
<div class="tip" id="fs17">val wb : WorldBankData.ServiceTypes.WorldBankDataService<br /><br />Full name: Features.wb</div>
<div class="tip" id="fs18">type WorldBankData =<br />&#160;&#160;static member GetDataContext : unit -&gt; WorldBankDataService<br />&#160;&#160;nested type ServiceTypes<br /><br />Full name: FSharp.Data.WorldBankData</div>
<div class="tip" id="fs19">WorldBankData.GetDataContext() : WorldBankData.ServiceTypes.WorldBankDataService</div>
<div class="tip" id="fs20">val loadRegion : region:WorldBankData.ServiceTypes.Region -&gt; &#39;a<br /><br />Full name: Features.loadRegion<br /><em><br /><br />&#160;Given a region, load GDP in current US$ and return data as <br />&#160;a frame with two-level column key (region and country name)</em></div>
<div class="tip" id="fs21">val region : WorldBankData.ServiceTypes.Region</div>
<div class="tip" id="fs22">type ServiceTypes =<br />&#160;&#160;nested type Countries<br />&#160;&#160;nested type Country<br />&#160;&#160;nested type Indicators<br />&#160;&#160;nested type IndicatorsDescriptions<br />&#160;&#160;nested type Region<br />&#160;&#160;nested type Regions<br />&#160;&#160;nested type Topic<br />&#160;&#160;nested type Topics<br />&#160;&#160;nested type WorldBankDataService<br /><br />Full name: FSharp.Data.WorldBankData.ServiceTypes<br /><em><br /><br />&lt;summary&gt;Contains the types that describe the data service&lt;/summary&gt;</em></div>
<div class="tip" id="fs23">type Region =<br />&#160;&#160;inherit Region<br />&#160;&#160;member Countries : Countries<br />&#160;&#160;member Indicators : Indicators<br />&#160;&#160;member Name : string<br />&#160;&#160;member RegionCode : string<br /><br />Full name: FSharp.Data.WorldBankData.ServiceTypes.Region</div>
<div class="tip" id="fs24">val country : WorldBankData.ServiceTypes.Country</div>
<div class="tip" id="fs25">property WorldBankData.ServiceTypes.Region.Countries: WorldBankData.ServiceTypes.Countries<br /><em><br /><br />&lt;summary&gt;The indicators for the region&lt;/summary&gt;</em></div>
<div class="tip" id="fs26">property RuntimeImplementation.WorldBank.Region.Name: string</div>
<div class="tip" id="fs27">property RuntimeImplementation.WorldBank.Country.Name: string</div>
<div class="tip" id="fs28">property WorldBankData.ServiceTypes.Country.Indicators: WorldBankData.ServiceTypes.Indicators<br /><em><br /><br />&lt;summary&gt;The indicators for the country&lt;/summary&gt;</em></div>
<div class="tip" id="fs29">val eu : &#39;a<br /><br />Full name: Features.eu</div>
<div class="tip" id="fs30">property WorldBankData.ServiceTypes.WorldBankDataService.Regions: WorldBankData.ServiceTypes.Regions</div>
<div class="tip" id="fs31">val oecd : &#39;a<br /><br />Full name: Features.oecd</div>
<div class="tip" id="fs32">val world : float<br /><br />Full name: Features.world</div>
<div class="tip" id="fs33">val numAges : &#39;_arg3 (requires member ( ? ))<br /><br />Full name: Features.numAges</div>
<div class="tip" id="fs34">val more : &#39;a<br /><br />Full name: Features.more</div>
<div class="tip" id="fs35">val add1 : &#39;a (requires member ( ?&lt;- ) and member ( ? ) and member ( ?&lt;- ) and member ( ? ))<br /><br />Full name: Features.add1</div>
<div class="tip" id="fs36">val newRow : &#39;a<br /><br />Full name: Features.newRow</div>
<div class="tip" id="fs37">val box : value:&#39;T -&gt; obj<br /><br />Full name: Microsoft.FSharp.Core.Operators.box</div>
<div class="tip" id="fs38">val otherRow : &#39;a (requires member ( ?&lt;- ) and member ( ?&lt;- ) and member ( ?&lt;- ))<br /><br />Full name: Features.otherRow</div>
<div class="tip" id="fs39">val nums : &#39;a<br /><br />Full name: Features.nums</div>
<div class="tip" id="fs40">val strs : &#39;a (requires member ( ? ))<br /><br />Full name: Features.strs</div>
<div class="tip" id="fs41">val ages : &#39;_arg3 (requires member ( ? ))<br /><br />Full name: Features.ages</div>
<div class="tip" id="fs42">val opens : &#39;_arg3<br /><br />Full name: Features.opens</div>
<div class="tip" id="fs43">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs44">val dates : DateTime list<br /><br />Full name: Features.dates</div>
<div class="tip" id="fs45">val m : int</div>
<div class="tip" id="fs46">val travels : &#39;a<br /><br />Full name: Features.travels</div>
<div class="tip" id="fs47">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs48">val exists : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.List.exists</div>
<div class="tip" id="fs49">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs50">val countBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * int&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.countBy</div>
<div class="tip" id="fs51">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs52">val byDecimal : &#39;a<br /><br />Full name: Features.byDecimal</div>
<div class="tip" id="fs53">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>
<div class="tip" id="fs54">val bySex : &#39;a<br /><br />Full name: Features.bySex</div>
<div class="tip" id="fs55">val bySex1 : &#39;a<br /><br />Full name: Features.bySex1</div>
<div class="tip" id="fs56">val bySex2 : &#39;a<br /><br />Full name: Features.bySex2</div>
<div class="tip" id="fs57">val byClassAndPort : &#39;a (requires member ( ? ))<br /><br />Full name: Features.byClassAndPort</div>
<div class="tip" id="fs58">val ageByClassAndPort : &#39;_arg3<br /><br />Full name: Features.ageByClassAndPort</div>
<div class="tip" id="fs59">type bool = Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs60">val euro : &#39;a<br /><br />Full name: Features.euro</div>
<div class="tip" id="fs61">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs62">val decades : &#39;a (requires member ( ? ) and member ( * ))<br /><br />Full name: Features.decades</div>
<div class="tip" id="fs63">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.sprintf</div>
<div class="tip" id="fs64">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs65">val byGDP : &#39;a<br /><br />Full name: Features.byGDP</div>
<div class="tip" id="fs66">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs67">type Double =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Equals : obj:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetTypeCode : unit -&gt; TypeCode<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string + 3 overloads<br />&#160;&#160;&#160;&#160;static val MinValue : float<br />&#160;&#160;&#160;&#160;static val MaxValue : float<br />&#160;&#160;&#160;&#160;static val Epsilon : float<br />&#160;&#160;&#160;&#160;static val NegativeInfinity : float<br />&#160;&#160;&#160;&#160;static val PositiveInfinity : float<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.Double</div>
<div class="tip" id="fs68">field float.NaN = NaN</div>
<div class="tip" id="fs69">val nulls : &#39;a<br /><br />Full name: Features.nulls</div>
<div class="tip" id="fs70">Multiple items<br />type Nullable =<br />&#160;&#160;static member Compare&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; int<br />&#160;&#160;static member Equals&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;static member GetUnderlyingType : nullableType:Type -&gt; Type<br /><br />Full name: System.Nullable<br /><br />--------------------<br />type Nullable&lt;&#39;T (requires default constructor and value type and &#39;T :&gt; ValueType)&gt; =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : value:&#39;T -&gt; Nullable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member Equals : other:obj -&gt; bool<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetValueOrDefault : unit -&gt; &#39;T + 1 overload<br />&#160;&#160;&#160;&#160;member HasValue : bool<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Value : &#39;T<br />&#160;&#160;end<br /><br />Full name: System.Nullable&lt;_&gt;<br /><br />--------------------<br />Nullable()<br />Nullable(value: &#39;T) : unit</div>
<div class="tip" id="fs71">val ozone : &#39;_arg3<br /><br />Full name: Features.ozone</div>
<div class="tip" id="fs72">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs73">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>

        </div>
        <div class="span3">
          <a href="https://nuget.org/packages/Deedle">
            <img src="{root}/images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">Deedle</li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/Deedle">Get Library via NuGet</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle">Source Code on GitHub</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle/blob/master/LICENSE.md">License (BSD)</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/design.html">Design notes</a></li>
            
            <li class="nav-header">Using from F#</li>
            <li>
              <a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html">Quick start tutorial</a>
              <ul class="nav nav-list">
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#creating">Creating data frames</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#reindexing-and-joins">Using index & joining</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#selecting">Reading values, slicing</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#timeseries">Ordered time series</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#projections">Projection and filtering</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/tutorial.html#grouping">Aggregating groups</a></li>
              </ul>
            </li>
            <li>
              <a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html">Data frame features</a>
              <ul class="nav nav-list">
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#creating">Creating & loading</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#dataframe">Frame manipulation</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#slicing">Advanced slicing</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#grouping">Grouping data</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#indexing">Hierarchical indexing</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/features.html#missing">Missing values</a></li>
              </ul>
            </li>
            <li>
              <a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/timeseries.html">Time series features</a>
              <ul class="nav nav-list">
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/timeseries.html#alignment">Alignment & joining</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/timeseries.html#windowing">Windows and chunks</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/timeseries.html#sampling">Lookup and resampling</a></li>
                <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/timeseries.html#stats">Statistics & math</a></li>
              </ul>
            </li>

            <li class="nav-header">Documentation</li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/reference/index.html">API Reference</a></li>

            <li class="nav-header">Samples</li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/lazysource.html">Lazy data loading</a></li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/samples/volatility.html">Price volatility</a></li>
            <li><a href="file://C:\dev\FSharp.DataFrame\docs\tools\../output/samples/titanic.html">Titanic survivors</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/BlueMountainCapital/Deedle"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>